(this["webpackJsonpmanabie-todo-challenge"]=this["webpackJsonpmanabie-todo-challenge"]||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(6),r=function e(){Object(a.a)(this,e)}},3:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.ACTIVE="ACTIVE",e.COMPLETED="COMPLETED"}(a||(a={}))},30:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(4),c=n(6),u=n(10),s=n(13),i=n(12),l=n(11),d=n(3),f=n(24),p=n.n(f),m=n(5),b=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"createTodo",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve({content:t,created_date:(new Date).toISOString(),status:d.a.ACTIVE,id:p()(),user_id:"firstUser",filter:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTodos",value:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m.a)());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(l.a);t.default=new b},5:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){window.localStorage.setItem("list-todo",JSON.stringify(e))},r=function(){return JSON.parse(window.localStorage.getItem("list-todo")||"[]")}},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),c=n.n(o),u=(n(30),n(1)),s=n.n(u),i=n(4),l=n(7),d=n(8),f=n(3),p="SET_TODO",m="CREATE_TODO",b="DELETE_TODO",E="DELETE_ALL_TODOS",v="TOGGLE_ALL_TODOS",O="UPDATE_TODO_STATUS",T="EDIT_TODO",_="FILTER_TODOS";function h(e){return{type:p,payload:e}}var y=n(5),k={todos:[]};var w=function(e,t){var n=JSON.parse(JSON.stringify(e));switch(t.type){case p:n.todos=t.payload,Object(y.b)(n.todos);break;case m:n.todos.push(t.payload),Object(y.b)(n.todos);break;case T:var a=n.todos.findIndex((function(e){return e.id===t.payload.todoId}));-1!==a&&(n.todos[a].content=t.payload.content),console.log(a,n.todos),Object(y.b)(n.todos);break;case O:var r=n.todos.findIndex((function(e){return e.id===t.payload.todoId}));-1!==r&&(n.todos[r].status=t.payload.checked?f.a.COMPLETED:f.a.ACTIVE),Object(y.b)(n.todos);break;case v:var o=e.todos.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{status:t.payload?f.a.COMPLETED:f.a.ACTIVE})}));return Object(d.a)(Object(d.a)({},e),{},{todos:o});case b:var c=n.todos.findIndex((function(e){return e.id===t.payload}));-1!==c&&n.todos.splice(c,1),Object(y.b)(n.todos);break;case E:n.todos=[],Object(y.b)(n.todos);break;case _:"ALL"===t.payload.filterName?n.todos.forEach((function(e){e.filter=!0})):n.todos.forEach((function(e){e.status===t.payload.filterName?e.filter=!0:e.filter=!1})),Object(y.b)(n.todos)}return n},j="frontend"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_WHOAMI?n(32).default:n(60).default,D=function(e){var t=e.todo,n=e.dispatch,o=Object(a.useState)(!1),c=Object(l.a)(o,2),u=c[0],d=c[1],f=Object(a.useRef)(null),p=Object(a.useRef)(null);Object(a.useEffect)((function(){function e(e){p.current&&!p.current.contains(e.target)&&d(!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[p]);var m=function(){return"COMPLETED"===t.status},E=function(e,t){n(function(e,t){return{type:O,payload:{todoId:e,checked:t}}}(t,e.target.checked))},v=function(e){n(function(e){return{type:b,payload:e}}(e))},_=function(){var e=Object(i.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Enter"===a.key&&(n((r=t.id,o=f.current.value,{type:T,payload:{content:o,todoId:r}})),d(!1),f.current.value="");case 1:case"end":return e.stop()}var r,o}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,t.filter&&r.a.createElement("div",{ref:p,className:"ToDo__item ".concat(m()&&"ToDo__item_completed"),onDoubleClick:function(){d(!0)}},r.a.createElement("input",{type:"checkbox",checked:m(),onChange:function(e){E(e,t.id)}}),r.a.createElement("div",{className:"column w-full top"},u?r.a.createElement("input",{ref:f,autoFocus:!0,defaultValue:t.content,className:"Update_todo w-90",type:"text",onKeyDown:_}):r.a.createElement("span",{className:"Todo_text_content ".concat(m()&&"text_completed")},t.content),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"Todo_data_created"},new Date(t.created_date).toLocaleDateString("en-GB")),r.a.createElement("span",null,t.user_id))),r.a.createElement("button",{className:"Todo__delete",onClick:function(){return v(t.id)}},"delete")))},C=function(){var e=Object(a.useState)("ALL"),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(a.useReducer)(w,k),u=Object(l.a)(c,2),d=u[0].todos,p=u[1],b=Object(a.useRef)(null);Object(a.useEffect)((function(){Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getTodos();case 2:t=e.sent,p(h(t||[]));case 4:case"end":return e.stop()}}),e)})))()}),[]);var O=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key||!b.current.value){e.next=6;break}return e.next=3,j.createTodo(b.current.value);case 3:n=e.sent,p({type:m,payload:n}),b.current.value="";case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(e){p(function(e){return{type:_,payload:{filterName:e}}}(e)),o(e)};return r.a.createElement("div",{className:"ToDo__container"},r.a.createElement("div",{className:"Todo__creation"},r.a.createElement("input",{ref:b,className:"Todo__input",placeholder:"What need to be done?",onKeyDown:O})),r.a.createElement("div",{className:"ToDo__list"},d&&d.length?d.map((function(e,t){return r.a.createElement(D,{dispatch:p,key:t,todo:e})})):r.a.createElement("div",null,"There are currently no to-do!")),r.a.createElement("div",{className:"Todo__toolbar"},d.length>0?r.a.createElement("input",{type:"checkbox",onChange:function(e){var t;p((t=e.target.checked,{type:v,payload:t}))}}):r.a.createElement("div",null),r.a.createElement("div",{className:"Todo__tabs"},r.a.createElement("button",{className:"btn SelectAll__btn ".concat("ALL"===n&&"btn-active"),onClick:function(){return T("ALL")}},"All"),r.a.createElement("button",{className:"btn Active__btn ".concat(n===f.a.ACTIVE&&"btn-active"),onClick:function(){return T(f.a.ACTIVE)}},"Active"),r.a.createElement("button",{className:"btn Completed__btn ".concat(n===f.a.COMPLETED&&"btn-active"),onClick:function(){return T(f.a.COMPLETED)}},"Completed")),r.a.createElement("button",{className:"btn ClearAll__btn btn-active",onClick:function(){p({type:E})}},"Clear all todos")))},N=function(){return r.a.createElement("div",{className:"Guide"},r.a.createElement("span",null,"Todo Guide!"),r.a.createElement("div",null,r.a.createElement("div",{className:"row mid"},r.a.createElement("div",{className:"Order"}),r.a.createElement("span",null,"Double click (todo-item) to edit!"))))};n(58);var g=function(){return r.a.createElement("main",{className:"App row center mid"},r.a.createElement("div",{className:"container row"},r.a.createElement(C,null),r.a.createElement(N,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},60:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(4),c=n(6),u=n(10),s=n(13),i=n(12),l=n(11),d=n(25),f=n.n(d).a.create({baseURL:"http://localhost:5050",timeout:1e4});f.interceptors.request.use((function(e){return e.headers.Authorization=localStorage.getItem("token"),e}));var p=f,m=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"createTodo",value:function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.post("/tasks",{content:t});case 2:return n=e.sent,e.abrupt("return",n.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTodos",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/tasks");case 2:return t=e.sent,e.abrupt("return",t.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(l.a);t.default=new m}},[[59,1,2]]]);
//# sourceMappingURL=main.14d961c9.chunk.js.map